{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web development\\\\rps\\\\frontend\\\\src\\\\components\\\\ExamPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { io } from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5000\"); // Backend WebSocket URL\n\nconst ExamPage = () => {\n  _s();\n  const [riskScore, setRiskScore] = useState(0);\n  const [warning, setWarning] = useState(\"\");\n  useEffect(() => {\n    // Track mouse movements\n    const handleMouseMove = () => socket.emit(\"mouse_activity\");\n\n    // Track keystrokes\n    const handleKeyDown = () => socket.emit(\"key_activity\");\n\n    // Track tab switching\n    const handleVisibilityChange = () => {\n      if (document.hidden) {\n        socket.emit(\"tab_switch\");\n      }\n    };\n\n    // Add event listeners\n    window.addEventListener(\"mousemove\", handleMouseMove);\n    window.addEventListener(\"keydown\", handleKeyDown);\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n    // Receive risk updates from backend\n    socket.on(\"risk_update\", score => {\n      setRiskScore(score);\n      if (score >= 50) setWarning(\"⚠️ High Risk Detected!\");else setWarning(\"\");\n    });\n    return () => {\n      window.removeEventListener(\"mousemove\", handleMouseMove);\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n      socket.off(\"risk_update\");\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"exam-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Online Exam\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Your Risk Score: \", riskScore]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), warning && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"warning\",\n      children: warning\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u26A0\\uFE0F Do not switch tabs or remain inactive for too long.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(ExamPage, \"VIQ0Eqp/KcABa1oXfNzaVDxVu4M=\");\n_c = ExamPage;\nexport default ExamPage;\nvar _c;\n$RefreshReg$(_c, \"ExamPage\");","map":{"version":3,"names":["React","useEffect","useState","io","jsxDEV","_jsxDEV","socket","ExamPage","_s","riskScore","setRiskScore","warning","setWarning","handleMouseMove","emit","handleKeyDown","handleVisibilityChange","document","hidden","window","addEventListener","on","score","removeEventListener","off","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Web development/rps/frontend/src/components/ExamPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst socket = io(\"http://localhost:5000\"); // Backend WebSocket URL\r\n\r\nconst ExamPage = () => {\r\n  const [riskScore, setRiskScore] = useState(0);\r\n  const [warning, setWarning] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Track mouse movements\r\n    const handleMouseMove = () => socket.emit(\"mouse_activity\");\r\n\r\n    // Track keystrokes\r\n    const handleKeyDown = () => socket.emit(\"key_activity\");\r\n\r\n    // Track tab switching\r\n    const handleVisibilityChange = () => {\r\n      if (document.hidden) {\r\n        socket.emit(\"tab_switch\");\r\n      }\r\n    };\r\n\r\n    // Add event listeners\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\r\n\r\n    // Receive risk updates from backend\r\n    socket.on(\"risk_update\", (score) => {\r\n      setRiskScore(score);\r\n      if (score >= 50) setWarning(\"⚠️ High Risk Detected!\");\r\n      else setWarning(\"\");\r\n    });\r\n\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\r\n      socket.off(\"risk_update\");\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"exam-container\">\r\n      <h1>Online Exam</h1>\r\n      <p>Your Risk Score: {riskScore}</p>\r\n      {warning && <p className=\"warning\">{warning}</p>}\r\n      <p>⚠️ Do not switch tabs or remain inactive for too long.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExamPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,MAAM,GAAGH,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAE5C,MAAMI,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd;IACA,MAAMY,eAAe,GAAGA,CAAA,KAAMP,MAAM,CAACQ,IAAI,CAAC,gBAAgB,CAAC;;IAE3D;IACA,MAAMC,aAAa,GAAGA,CAAA,KAAMT,MAAM,CAACQ,IAAI,CAAC,cAAc,CAAC;;IAEvD;IACA,MAAME,sBAAsB,GAAGA,CAAA,KAAM;MACnC,IAAIC,QAAQ,CAACC,MAAM,EAAE;QACnBZ,MAAM,CAACQ,IAAI,CAAC,YAAY,CAAC;MAC3B;IACF,CAAC;;IAED;IACAK,MAAM,CAACC,gBAAgB,CAAC,WAAW,EAAEP,eAAe,CAAC;IACrDM,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEL,aAAa,CAAC;IACjDE,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,EAAEJ,sBAAsB,CAAC;;IAErE;IACAV,MAAM,CAACe,EAAE,CAAC,aAAa,EAAGC,KAAK,IAAK;MAClCZ,YAAY,CAACY,KAAK,CAAC;MACnB,IAAIA,KAAK,IAAI,EAAE,EAAEV,UAAU,CAAC,wBAAwB,CAAC,CAAC,KACjDA,UAAU,CAAC,EAAE,CAAC;IACrB,CAAC,CAAC;IAEF,OAAO,MAAM;MACXO,MAAM,CAACI,mBAAmB,CAAC,WAAW,EAAEV,eAAe,CAAC;MACxDM,MAAM,CAACI,mBAAmB,CAAC,SAAS,EAAER,aAAa,CAAC;MACpDE,QAAQ,CAACM,mBAAmB,CAAC,kBAAkB,EAAEP,sBAAsB,CAAC;MACxEV,MAAM,CAACkB,GAAG,CAAC,aAAa,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEnB,OAAA;IAAKoB,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BrB,OAAA;MAAAqB,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpBzB,OAAA;MAAAqB,QAAA,GAAG,mBAAiB,EAACjB,SAAS;IAAA;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAClCnB,OAAO,iBAAIN,OAAA;MAAGoB,SAAS,EAAC,SAAS;MAAAC,QAAA,EAAEf;IAAO;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAChDzB,OAAA;MAAAqB,QAAA,EAAG;IAAsD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEV,CAAC;AAACtB,EAAA,CA9CID,QAAQ;AAAAwB,EAAA,GAARxB,QAAQ;AAgDd,eAAeA,QAAQ;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}